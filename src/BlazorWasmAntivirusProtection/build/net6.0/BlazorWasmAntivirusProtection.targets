<Project>
	<UsingTask TaskName="BlazorWasmAntivirusProtection.Tasks.ChangeDllHeaders"
               AssemblyFile="$(MSBuildThisProjectFileDirectory)..\..\tasks\BlazorWasmAntivirusProtection.Tasks.dll" />
	<UsingTask TaskName="BlazorWasmAntivirusProtection.Tasks.RenameDlls"
            AssemblyFile="$(MSBuildThisProjectFileDirectory)..\..\tasks\BlazorWasmAntivirusProtection.Tasks.dll" />
	<UsingTask TaskName="BlazorWasmAntivirusProtection.Tasks.CleanOldDlls"
		AssemblyFile="$(MSBuildThisProjectFileDirectory)..\..\tasks\BlazorWasmAntivirusProtection.Tasks.dll" />

	<PropertyGroup>
		<ComputeBlazorExtensionsDependsOn>$(ComputeBlazorExtensionsDependsOn);_ChangeDllHeaders</ComputeBlazorExtensionsDependsOn>
	</PropertyGroup>
	
	<Target Name="_CleanOldDlls" BeforeTargets="PrepareForILLink">
		<CleanOldDlls IntermediateLinkDir="$(IntermediateLinkDir)"></CleanOldDlls>
	</Target>
	
	<Target Name="_ChangeDllHeaders">
		<ChangeDllHeaders PublishBlazorBootStaticWebAsset="@(PublishBlazorBootStaticWebAsset)" DisableChangingDllHeaders="$(DisableChangingDllHeaders)"></ChangeDllHeaders>
	</Target>

	<Target Name="_ChangeDLLFileExtensions" AfterTargets="Publish">
		<RenameDlls PublishDir="$(PublishDir)" RenameDllsTo="$(RenameDllsTo)" DisableRenamingDlls="$(DisableRenamingDlls)"></RenameDlls>
	</Target>

</Project>